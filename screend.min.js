/***********************
 * Language:ES5.1
 * Author:JSMASK
 * 
 * Use:
 * 			var str = document.getElementById("app").innerHTML;
 *          var arr=['1','2','1']
			var scrd = new screend({
				data: str,
				type: "desc"
			})
			scrd.toAsc()
			scrd.toMax()
			....
			
 * 
 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.Screend=a())}(this,(function(){var e=document.documentMode,b=null,d=null,l=/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\，|\。|\！|\、|\？|\《|\》|\~|\{|\}|\’|\‘|\“|\”|\(|\)|\-|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\【|\】|\<|\.|\>|\/|\?]/g;var h={data:[],type:"default",filter:true,debug:true};var f=Object.assign||function(p){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var m in o){if(Object.prototype.hasOwnProperty.call(o,m)){p[m]=o[m]}}}return p};function i(){for(var m in a){if(!Object.prototype.hasOwnProperty(m)){this.__proto__[m]=a[m]}}}function g(){var m=true;if(b["data"].length===0){if(b["debug"]){console.warn("Please pass the parameters!")}m=false}else{if(Object.prototype.toString.call(b["data"])!=="[object Array]"){console.warn("Data must be an array or a string!");m=false}}return m}function k(){var o=[],m={};var r=arguments[0];var p=arguments[1];for(var q in r){if(m.hasOwnProperty(r[q].toString())){m[r[q]]++}else{m[r[q]]=1}}for(var s in m){o.push({key:s,num:m[s]})}this.list=o;c.call(this,p)}function c(q){if(q!=="asc"&&q!=="desc"){return this.list}var m=this.list;var p=m.length-1;while(p>0){var r=0;for(var n=0;n<p;n++){if(q==="asc"){if(m[n]["num"]>m[n+1]["num"]){r=n;var o=m[n];m[n]=m[n+1];m[n+1]=o}}else{if(m[n]["num"]<m[n+1]["num"]){r=n;var o=m[n];m[n]=m[n+1];m[n+1]=o}}}p=r}this.list=m;return this.list}var a={getList:function(){var m=arguments[0]||this.list.length;var p=this.list?this.list:this;var o=[];for(var n=0;n<m;n++){o.push(p[n])}return o},toMax:function(){var p=[];var n=b["type"];var q=this.list?this.list:this;var m=1;switch(n){case"asc":m=q[q.length-1]["num"];for(var o=q.length-1;o>0;o--){if(m===q[o]["num"]){p.push(q[o])}else{break}}break;case"desc":m=q[0]["num"];for(var o=0;o<q.length;o++){if(m===q[o]["num"]){p.push(q[o])}else{break}}break;default:for(var o=0;o<q.length;o++){m=Math.max(q[o]["num"],m)}for(var o=0;o<q.length;o++){if(q[o]["num"]===m){p.push(q[o])}}break}return p},toMin:function(){var o=[];var m=b["type"];var q=this.list?this.list:this;var p=1;switch(m){case"desc":p=q[q.length-1]["num"];for(var n=q.length-1;n>0;n--){if(p===q[n]["num"]){o.push(q[n])}else{break}}break;case"asc":p=q[0]["num"];for(var n=0;n<q.length;n++){if(p===q[n]["num"]){o.push(q[n])}else{break}}break;default:for(var n=0;n<q.length;n++){p=Math.min(q[n]["num"],p)}for(var n=0;n<q.length;n++){if(q[n]["num"]===p){o.push(q[n])}}break}return o},toAsc:function(){b["type"]="asc";c.call(this,b["type"]);if(g.call(this)){return this}},toDesc:function(){b["type"]="desc";c.call(this,b["type"]);if(g.call(this)){return this}},toRemove:function(){if(!arguments[0]){return this}var p=arguments[0];var o=this.list?this.list:this;var m=[];for(var n=0;n<o.length;n++){if(o[n]["key"]!==p){m.push(o[n])}}this.list=m;return this},toAvg:function(m){var p=0,q=1,o=this.list?this.list:this;for(var n=0;n<o.length;n++){p+=o[n]["num"]}q=m?~~(p/o.length):p/o.length;return q},toSearch:function(o){if(!o){return{key:"",num:0}}_list=this.list?this.list:this;var m=[];for(var n=0;n<_list.length;n++){if(_list[n]["key"]===o){return _list[n]}}var p=b["data"];if(typeof p=="object"){p=p.join("")}return{key:o,num:(p.split(o).length-1)}},toLink:function(){return this}};var j=function(){var m=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};b=f({},h,m);d=b["data"];if(b["filter"]){if(typeof b["data"]==="string"){b["data"]=d.replace(l,"").split("")}}else{b["data"]=d.split("")}k.call(this,b["data"],b["type"]);i.call(this);if(g.call(this)){return this}};return j})));
